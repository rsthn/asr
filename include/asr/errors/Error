/*
**	asr/errors/Error
*/

#ifndef __ASR_ERRORS_ERROR_H
#define __ASR_ERRORS_ERROR_H

#include <string>

namespace asr {
namespace errors {

    using std::string;

    /**
     * @brief Describes an error.
     */
    class Error
    {
        protected:

        /**
         * @brief Error message.
         */
        string _message;

        /**
         * @brief Error code.
         */
        int _code;

        public:

        /**
         * @brief Creates an error with the specified message and (optional) error code.
         */
        Error (const char *message, int code=0) : _message(message), _code(code)
        { }

        /**
         * @brief Creates an error from a String object. The provided string will be deleted by the destructor.
         */
        Error (string& message, int code=0) : _message(message), _code(code)
        { }

        /**
         * @brief Error only with an error code.
         */
        Error (int code) : _code(code)
        { }

        /**
         */
        virtual ~Error() {
        }

        /**
         * @brief Returns the error message.
         * @return const char* 
         */
        virtual const char *message() const {
            return _message.c_str();
        }

        /**
         * @brief Returns the error code.
         * @return int 
         */
        virtual int code() const {
            return _code;
        }
    };

}};

#endif
